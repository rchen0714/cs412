<!-- 
File: login.html
Author: Ruby Chen (rc071404@bu.edu), 7/14/2004
Description: this template is the login page for the mini_insta app.
It displays a login form and the ability to register a new account.
-->

{% extends 'mini_insta/base.html' %}

{% block content %}

<!-- This basic authentication form works.
- need to set "next" to redirect to correct page.
-->
 

<h1>Login</h1>

<form action="{% url 'login' %}" method="post">
    {% csrf_token %}
    {{form}}
    <input type="submit" value="Login">
    <!-- This basic login form works, but after login in
     assumed the existance of a page at /registration/profile, which
     does not exist.  -->
    {% if request.GET.next %}
    <input type="hidden" name="next" value="{{request.GET.next}}">
    {% else %}
    <input type="hidden" name="next" value="{% url 'show_all_profiles' %}">
    {% endif %}
</form> 

<hr>

<!-- Allow for the option to register if the user does not have an account -->
<p>
    Don't have an account? 
    <form action="{% url 'create_profile' %}" method="get" style="display: inline;">
        <input type="submit" value="Register here">
    </form>
</p>

{% endblock %}
